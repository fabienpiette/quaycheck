:root {
    --bg: #fff;
    --fg: #000;
    --border: #000;
    --muted: #666;
}
[data-theme="dark"] {
    --bg: #000;
    --fg: #fff;
    --border: #fff;
    --muted: #999;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    background: var(--bg);
    color: var(--fg);
    line-height: 1.5;
    min-height: 100vh;
    transition: background 0.2s, color 0.2s;
}
main {
    width: min(90%, 1080px);
    margin: 0 auto;
    padding: 2rem 1rem;
}
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border);
}
h1 {
    font-size: 1.25rem;
    font-weight: 500;
    letter-spacing: -0.02em;
}
.theme-toggle {
    background: none;
    border: 1px solid var(--border);
    color: var(--fg);
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    cursor: pointer;
    font-family: inherit;
}
.theme-toggle:hover { background: var(--fg); color: var(--bg); }
section { margin-bottom: 3rem; }
h2 {
    font-size: 0.75rem;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--muted);
    margin-bottom: 1rem;
}
.port-check {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}
input {
    flex: 1;
    padding: 0.5rem;
    border: 1px solid var(--border);
    background: var(--bg);
    color: var(--fg);
    font-family: inherit;
    font-size: 1rem;
}
input:focus { outline: 2px solid var(--fg); outline-offset: -2px; }
input::placeholder { color: var(--muted); }
button {
    padding: 0.5rem 1rem;
    border: 1px solid var(--border);
    background: var(--fg);
    color: var(--bg);
    font-family: inherit;
    font-size: 0.875rem;
    cursor: pointer;
}
button:hover { opacity: 0.8; }
button.secondary {
    background: var(--bg);
    color: var(--fg);
}
button.secondary:hover { background: var(--fg); color: var(--bg); }
.history {
    max-height: 5.5rem;
    overflow-y: auto;
    font-size: 0.75rem;
    font-family: ui-monospace, monospace;
}
.history:empty { display: none; }
.history-entry {
    padding: 0.25rem 0;
    border-bottom: 1px solid var(--border);
    display: flex;
    gap: 0.5rem;
}
.history-entry:last-child { border-bottom: none; }
.history-entry .port { min-width: 3rem; }
.history-entry .status { flex: 1; }
.history-entry.ok .status { color: var(--fg); }
.history-entry.err .status { color: var(--muted); text-decoration: line-through; }
.history-entry .time { color: var(--muted); }
table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.875rem;
    overflow: visible;
}
th {
    text-align: left;
    font-weight: 400;
    color: var(--muted);
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--border);
}
td {
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--border);
    vertical-align: top;
    overflow: visible;
}
tr:last-child td { border-bottom: none; }
.name { font-weight: 500; }
.image { color: var(--muted); font-size: 0.75rem; }
.state { font-size: 0.75rem; }
.state::before {
    content: "";
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-right: 0.375rem;
    background: var(--muted);
}
.state.running::before { background: var(--fg); }
.ports { font-family: ui-monospace, monospace; font-size: 0.75rem; overflow: visible; }
.port {
    display: inline-block;
    border: 1px solid var(--border);
    padding: 0.125rem 0.375rem;
    margin: 0.125rem 0.25rem 0.125rem 0;
    cursor: pointer;
    position: relative;
    transition: background 0.15s;
}
.port:hover { background: var(--fg); color: var(--bg); }
.port.copied {
    background: var(--fg);
    color: var(--bg);
}
.port.exposed { border-style: dashed; color: var(--muted); }
.port.exposed:hover { background: var(--muted); color: var(--bg); }
.empty { color: var(--muted); font-style: italic; }
.loading { color: var(--muted); }
.legend {
    margin-bottom: 1rem;
    font-size: 0.75rem;
    color: var(--muted);
}
.legend .port { font-size: 0.625rem; vertical-align: middle; margin-right: 0.25rem; cursor: default; }
.legend .port:hover { background: transparent; color: var(--fg); }
.legend-item { margin-right: 1rem; }
.legend-item:last-child { margin-right: 0; }
.error-banner {
    border: 1px solid var(--border);
    padding: 0.75rem 1rem;
    margin-bottom: 1rem;
    font-size: 0.875rem;
}
.error-banner code {
    font-family: ui-monospace, monospace;
    font-size: 0.75rem;
    color: var(--muted);
}
footer {
    margin-top: 4rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border);
    font-size: 0.75rem;
    color: var(--muted);
}

/* Desktop: add spacing between table columns */
th, td { padding-right: 1rem; }
th:last-child, td:last-child { padding-right: 0; }

/* Mobile styles */
@media (max-width: 640px) {
    main { padding: 1.5rem 1rem; }
    header { margin-bottom: 2rem; }
    section { margin-bottom: 2rem; }

    /* Stack port check inputs */
    .port-check {
        flex-direction: column;
    }
    .port-check input { width: 100%; }
    .port-check button { width: 100%; }

    /* Legend stacked */
    .legend-item { display: block; margin-right: 0; margin-bottom: 0.25rem; }
    .legend-item:last-child { margin-bottom: 0; }

    /* Table as compact cards */
    table, thead, tbody, th, td, tr { display: block; }
    thead { display: none; }
    tr {
        border: 1px solid var(--border);
        padding: 0.75rem;
        margin-bottom: 0.5rem;
    }
    tr:last-child { margin-bottom: 0; }
    td {
        border: none;
        padding: 0;
    }
    /* Name cell: full width, no label */
    td[data-label="Name"] {
        margin-bottom: 0.5rem;
    }
    td[data-label="Name"] .name {
        font-size: 1rem;
    }
    td[data-label="Name"] .image {
        word-break: break-all;
    }
    /* State & Ports inline */
    td[data-label="State"],
    td[data-label="Ports"] {
        display: inline-block;
        margin-right: 1rem;
    }
    td[data-label="State"]::before,
    td[data-label="Ports"]::before {
        content: none;
    }
}
